%
~3 cells dalloc dup
:.bottles ^dup 2 min cells ~>lit ^+ @ execute ;
:bottles! ^over cells ~>lit ^+ ! 1+ ;

~0
noname> ~c" no more bottles" ^pr ;  ~bottles!
noname> ~c" 1 bottle" ^pr ;         ~bottles!
noname> ~c" bottles" ^over . pr ;   ~bottles!

:.beer ^.bottles ~c"  of beer " ^pr ;
:.wall ^.beer ~c" on the wall " ^prn ;
:.take ~c" Take one down, pass it around" ^pr ;
:.verse ^.wall .beer cr
      1- .take cr .wall ;
:.verses ^cr .verse dup when .verses ;
~

99 .verses

bye
